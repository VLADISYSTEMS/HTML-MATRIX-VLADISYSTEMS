<!DOCTYPE html>
<!-- Declaramos el documento HTML5 -->
<html lang="es">
<head>
    <meta charset="UTF-8">
    <!-- Codificación para caracteres latinos -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Adaptable a móviles -->
    <title>Ejercicio 3.5 - Feedback de Clientes</title>

    <style>
        /* -----------------------------
           ESTILOS GENERALES
        ----------------------------- */
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f4f8;
            padding: 20px;
        }

        h2 {
            color: #333;
            text-align: center;
        }

        /* Contenedor del formulario */
        form {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin: 0 auto 20px;
            max-width: 400px;
        }

        /* Etiquetas de los campos */
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: bold;
            color: #333;
        }

        /* Campos de entrada */
        input, textarea, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 14px;
        }

        /* Botón de envío */
        button {
            background-color: #007BFF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
        }

        /* Efecto hover */
        button:hover {
            background-color: #0056b3;
        }

        /* Contenedor de los resultados */
        #resultados {
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Cada registro */
        .feedback-item {
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }

        /* Último sin línea inferior */
        .feedback-item:last-child {
            border-bottom: none;
        }
    </style>
</head>

<body>

    <h2>Formulario de Feedback de Clientes</h2>

    <!-- =======================
         FORMULARIO DE ENTRADA
         ======================= -->
    <form id="feedback-form">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required>

        <label for="correo">Correo:</label>
        <input type="email" id="correo" required>

        <label for="puntuacion">Puntuación (1-5):</label>
        <select id="puntuacion" required>
            <option value="">Seleccionar...</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
        </select>

        <label for="comentarios">Comentarios:</label>
        <textarea id="comentarios" rows="3" required></textarea>

        <button type="submit">Enviar Feedback</button>
    </form>

    <!-- =======================
         ZONA DE RESULTADOS
         ======================= -->
    <div id="resultados">
        <h3>Feedbacks Registrados:</h3>
        <div id="lista-feedbacks"></div>
    </div>

    <script>
        /* ========================================================
           SCRIPT DE FUNCIONALIDAD - Feedback múltiple en memoria
           ======================================================== */

        // Array global que almacenará todos los registros de feedback
        const feedbacks = [];

        // Capturamos el formulario por su ID y escuchamos el evento 'submit'
        document.getElementById('feedback-form').addEventListener('submit', function(e){
            e.preventDefault();
            // Evita el envío tradicional que recarga la página

            // 1️⃣ Obtenemos los valores de los campos
            const nombre = document.getElementById('nombre').value.trim();
            const correo = document.getElementById('correo').value.trim();
            const puntuacion = document.getElementById('puntuacion').value;
            const comentarios = document.getElementById('comentarios').value.trim();

            // 2️⃣ Validamos que no haya campos vacíos
            if(!nombre || !correo || !puntuacion || !comentarios){
                alert('Por favor completa todos los campos antes de enviar.');
                return; // corta la ejecución si falta algo
            }

            // 3️⃣ Creamos un objeto con la información del cliente
            const nuevoFeedback = {
                nombre: nombre,
                correo: correo,
                puntuacion: puntuacion,
                comentarios: comentarios
            };

            // 4️⃣ Lo agregamos al array feedbacks
            feedbacks.push(nuevoFeedback);

            // 5️⃣ Mostramos en pantalla todos los feedbacks acumulados
            mostrarFeedbacks();

            // 6️⃣ Limpiamos el formulario para el siguiente cliente
            e.target.reset();
        });

        // Función que muestra todos los registros guardados
        function mostrarFeedbacks(){
            // Seleccionamos el contenedor donde se mostrarán
            const contenedor = document.getElementById('lista-feedbacks');

            // Limpiamos el contenido previo
            contenedor.innerHTML = '';

            // Recorremos el array feedbacks y mostramos cada registro
            feedbacks.forEach((fb, index) => {
                contenedor.innerHTML += `
                    <div class="feedback-item">
                        <strong>${index + 1}. ${fb.nombre}</strong> (${fb.correo})<br>
                        <em>Puntuación:</em> ${fb.puntuacion}/5<br>
                        <em>Comentarios:</em> ${fb.comentarios}
                    </div>
                `;
            });
        }
    </script>
</body>
</html>
